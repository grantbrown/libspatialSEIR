SOURCES = $(wildcard ./*.cpp) 
OBJECTS = $(SOURCES:.cpp=.o)

ROOT_DIR = .
$(info The compilation root directory is: $(ROOT_DIR))
$(info The name of the shared library to be created is: $(SHLIB))
$(info The place R should look for libSpatialSEIR.so is: ./LSS)

PKG_CPPFLAGS+=-I$(ROOT_DIR)/../../../eigen -I$(ROOT_DIR)/../../../libSpatialSEIR/include -I$(ROOT_DIR)/../../../libSpatialSEIR/include/DataStructures -I$(ROOT_DIR)/../../../libSpatialSEIR/include/FullConditionals -I$(ROOT_DIR)/../../../libSpatialSEIR/include/FullConditionals/DataModels/Overdispersion -I$(ROOT_DIR)/include 
PKG_LIBS += -L$(ROOT_DIR)/LSS -lSpatialSEIR -L$(BLAS_LIBS) -Wl,-rpath=$(ROOT_DIR)/LSS 

$(SHLIB): LSS/libSpatialSEIR.so

LSS/libSpatialSEIR.so: 
	@(cd LSS && $(MAKE) all && cd ..)

all: $(SHLIB) 

